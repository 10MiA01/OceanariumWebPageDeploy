@page
@model Oceanarium.Pages.Admin.Tickets.IndexModel
@{
}
<div class="container text-center mt-5">
	<h1>Tickets panel</h1>
	<div class="d-flex">
		<div class="me-4" style="min-width: 250px;">
			<div>
				<h2>Filter</h2>
				<div class="mb-3">
					<label for="filterTicketId" class="form-label">Ticket Id</label>
					<input type="number" id="filterTicketId" placeholder="Ticket Id" class="form-control" />
				</div>
				<div class="mb-3">
					<label for="filterEventId" class="form-label">Event Id</label>
					<input type="number" id="filterEventId" placeholder="Event Id" class="form-control" />
				</div>
				<div class="mb-3">
					<label for="filterOrderId" class="form-label">Order Id</label>
					<input type="number" id="filterOrderId" placeholder="Order Id" class="form-control" />
				</div>
				<div class="mb-3">
					<label for="filterDiscountType" class="form-label">Discount type</label>
					<select class="form-select" id="filterDiscountType" >
						<option value="" selected disabled>Select type</option>
						<option>Adult</option>
						<option>Child</option>
						<option>Senior</option>
						<option>Student</option>
					</select>
				</div>
				<div class="mb-3">
					<label for="filterPurchaseDate" class="form-label">Filter by date</label>
					<input type="date" name="Date" class="form-control" id="filterPurchaseDate"/>
				</div>
				<div class="mb-3">
					<label for="filterStatus" class="form-label">Status</label>
					<select class="form-select" id="filterStatus">
						<option value="" selected disabled>Select status</option>
						<option>Active</option>
						<option>Cancelled</option>
						<option>Refunded</option>
						<option>Finished</option>
					</select>
				</div>
				<button id="applyFilters" class="btn btn-secondary my-2 my-sm-0" type="submit">Filter</button>
			</div>
		</div>
		<div class="flex-grow-1">
			<table id="ticketTableAdmin" class="table table-primary">
				<thead>
					<tr>
						<th>Ticket id</th>
						<th>Event id</th>
						<th>Order id</th>
						<th>Discount type</th>
						<th>Purchase date</th>
						<th>Ticket status</th>
						<th>Ticket code</th>
						<th>Edit</th>
						<th>Delete</th>
					</tr>
				</thead>
			</table>

			@if (TempData["success"] != null)
			{
				<div class="alert alert-success mt-3">
					<strong>Success!</strong> @TempData["success"]
				</div>
			}
			else if (TempData["warning"] != null)
			{
				<div class="alert alert-warning mt-3">
					<strong>Warning!</strong> @TempData["warning"]
				</div>
			}
			<div class="mt-3">
				<a asp-page="./Create" class="btn btn-primary">
					<i class="bi bi-plus-circle"></i> Create new ticket
				</a>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="confirmCancelModal" tabindex="-1" aria-labelledby="confirmCancelModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content text-center">
			<div class="modal-header">
				<h5 class="modal-title" id="confirmCancelModalLabel">Confirm delete</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">Are you sure you want to delete the ticket?</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No, keep it</button>
				<button type="button" class="btn btn-danger" id="confirmCancelButton">Yes, delete it</button>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<script src="~/js/AdminTicketDataTable.js"></script>
}